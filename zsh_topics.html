<h1>Command Line Fu</h1>

<h2>Full vi line editing</h2>

<h2>Spelling correction</h2>

<h2>Process substitution</h2>

<pre><code>    $ vi =(cmd)            # ... (edits the output of cmd - writes cmd output to a temp file)
    $ vi &lt;(cmd)            # ... (edits the output of cmd - writes cmd output to a named pipe)
</code></pre>

<h2>Generalized Pipes</h2>

<h2>Modifiers</h2>

<pre><code>    :h --&gt; head (dirname)
    :t --&gt; tail (basename)
    :r --&gt; rest (extension removed)
    :e --&gt; extension only
    :l --&gt; convert to lowercase
    :u --&gt; convert to uppercase

    $ for f (*.sh) mv $f $f:r
    $ for f (*.txt) mv $f $f:l
</code></pre>

<h2>Automatic file stream teeing (Multi-IO)</h2>

<pre><code>$ ls &gt; out1 &gt; out2      # ... Stores the output of ls in 2 files
$ ls &gt; file1 &gt; file2 &gt;&gt; file3 | wc -l
$ ls -l &gt; file1 | grep 'file*'
</code></pre>

<h2>Globbing</h2>

<pre><code>$ vi **/README.md    #... Recursively finds README.md and opens it for editing (works in BASH too)
$ vi **/*.md &lt;&lt;TAB&gt;&gt;
</code></pre>

<h2>Directory Stacks</h2>

<pre><code>$ alias dh='dirs -v'
$ echo $DIRSTACKSIZE
$ cd -2
$ cd -&lt;&lt;TAB&gt;&gt;
</code></pre>

<h2>Right side prompt</h2>

<h2>Directory substitution</h2>

<pre><code>cd ~/projects/sample/src/main/java/com/liquidnet/example/
cd java scala
</code></pre>

<h2>Aliases</h2>

<h3>Suffix Alias</h3>

<pre><code>alias -s java=vim
</code></pre>

<p>With that entering Main.java at the command prompt and hitting enter will invoke vim Main.java</p>

<h3>Global Alias</h3>

<p>Global aliases can be used anywhere on the command line</p>

<pre><code>alias -g PG='| less'
alias -g C='| wc -l'
</code></pre>

<h2>Completing Process IDs</h2>

<h2>Git Integration</h2>

<h2>Push to Stack and Resume</h2>

<pre><code>bindkey '\C-Q' push-line-or-edit
bindkey -M viins '^O' copy-prev-shell-word
</code></pre>

<h2>Vared</h2>

<pre><code>vared PATH
</code></pre>

<h2>Edit command line in Vi</h2>

<pre><code>autoload       edit-command-line
zle -N         edit-command-line
bindkey '\C-E' edit-command-line
</code></pre>

<h2>History Substitution</h2>

<h3>Current line</h3>

<pre><code>!#:0    command
!#^     first parameter
!#:1    first parameter
!#:1-4  first 4 parameters
!#$     last parameter
!#*     all parameters
!#$:s/bash/zsh perform substitution on previous parameter

$ cp somedir/somefile.txt !#$:s/.txt/.bak/
$ cp somedir/somefile.txt !#$:r
$ cp somedir/somefile.txt !#$:&lt;&lt;TAB&gt;&gt;
</code></pre>

<h3>Copying / Renaming files</h3>

<pre><code>cp longfilename.txt backup_!#^
cp {,backup_}verylongfilename.txt   # same thing
mv textfile.{txt,bak}               # expands to mv textfile.txt textfile.bak
</code></pre>

<h3>Previous Commands</h3>

<pre><code>!-1     repeat whole command
!!      repeat (shortcut)
!:0     command
!^      first parameter
!:1     first parameter
!:1-4   first 4 parameters
!$      last parameter
!*      all parameters
!!:s/bash/zsh (or ^bash^zsh)
!^:t    just file name of first parameter
!$:h    just path of last parameter
!-2$:r  just file name without extension of first parameter
</code></pre>

<h2>Magic space</h2>

<pre><code>% echo hello
hello

% !1 world
echo hello world
hello world

% bindkey " " magic-space
% !1
</code></pre>
